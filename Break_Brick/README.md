## 공튀기기 게임

#### head.h

- 함수 선언, 헤더 선언

#### fun.c

- 함수 정의

- gotoxy와 그 아래 print_box로 테두리를 그려줬는데 첫 행,마지막 행, 첫 열, 마지막 열만 ■으로 채우고 나머지는 비어있도록 조건문과 gotoxy문을 이용

-  ■이 2byte형 문자이기에 고려해서 가로는 각각 2칸 간격으로 해주었고 세로는 2칸 간격으로 해보니 한칸씩 더 띄어지기에 1칸씩 증가하도록 만듦

- 아래 print_dot은 공을 출력하는 함수이고 이 역시 마찬가지로 ●모양의 공을 출력해주기 위해 1byte짜리 char 형 문자 하나가 아닌 포인터를 선언하여 %s인 문자열로 출력

- delete_bar함수는 bar가 움직이는 것 처럼 보이려면 현재 그려져 있는 바가 모두 지워지고 한 칸 옆에서 새로 만들어지는 방식으로 이어지게 하기 위해 "-"로 채워있는 바를 " "로 채워 지우도록 함

- Color함수는 테두리인 ■과 공인 ●의 색을 각각 바꿔주기 위해 만듦. x의 값에 알맞은 숫자의 수를 넣으면 그 색으로 바뀝니다.

- brick은 벽돌을 만드는 함수로 이차원 배열을 1로 채워 1로 채워진 부분은 반복문을 돌려가며 ■을 출력. 따라서 4*4의 벽돌모양이 출력됨

- random함수는 벽돌의 위치를 랜덤으로 출력하기 위해 수업시간에 배운 srand함수를 써서 만듦. 행의 위치는 main함수에서 알 수 있듯이 5로 고정했고 열의 위치만 랜덤으로 출력되게 했는데 양옆 테두리를 벗어나지 않도록 조정했습니다.

- cursor함수는 공이 움직일때마다 커서의 위치가 깜빡이며 보이는 것을 없애는 기능

#### main함수

- 반복문에 들어가기 전 테두리와 bar, 벽돌생성, 알림문구들을 출력해주었습니다 

- esc를 누르면 반복문을 나가 종료하도록 확장키를 GetAsyncKeyState함수를 사용. ESC는 매크로로 선언했고 한번만 선언하면 큰 while문은 나가지 못하므로 큰 while문 안에서 한번 더 선언

- 또한 반복문을 돌면서 공이 자취를 남기지 않고 돌아야하기 때문에 print_dot(x,y," ");를 출력함

#### 추가내용

바가 방향키를 누름에 따라 움직이는 기능 구현시 약간의 문제가 있었는데 그 이유는 GetAsyncKeyState(LEFT)에서 LEFT와 RIGHT를 잘못 선언해 준 것이었습니다.  LEFT와 RIGHT가 잘못이라는걸 알게 된 이유는 if문이 제대로 작동하는지 알기위해 printf()문을 넣어보니 조건문이 아예 돌아가지 않았습니다. 검색해보니 각각 203, 205라는 말도 있고 75,77이라는 말도 있기에 정확히 하기 위해 LEFT와 RIGHT를 각각 VK_LEFT, VK_RIGHT로 바꿨습니다. 단순히 바가 움직이는 기능 뿐만아니라 추가적으로 조건을 두어 바가 테두리 양 끝쪽에 닿을 경우 바의 위치가 계속 끝쪽에 출력되도록 했습니다. 방법은 왼쪽을 넘어갈 경우 테두리에 닿는 부분이 바의 처음이기에 a값을 왼쪽 경계와 같도록 하고, 오른쪽을 넘어갈 경우 테두리에 닿는 부분이 바의 마지막 부분이기에 a+15(15는 바의 길이)를 오른쪽 경계와 같도록 하였습니다. 

이제 공이 테두리에 닿으면 방향을 바꾸도록 하기위해 방향을 나타내주는 xt와 yt를 각각 선언하여 천장이나 바닥에 닿는다면 y의 값에 -1을 곱해주어 방향을 바꿨고 양 옆에 닿는다면 x값에 -1을 곱해주어 방향을 바꿨습니다. 이전에 실행 했을 때는 공이 위 아래에 닿는 모습이 테두리에 정확히 닿는 것이 아니라 한칸정도 띄어있는 것처럼 보였는데 정확히 닿는 것 처럼 보이게 바꿨습니다. 그 방법은 테두리를 만들 때 높이는 1차이만 나도 겹치지 않았으므로 MINX+2와 MAXX-2를 각각 +1과 -1로 바꾸는 것이었습니다. 마지막으로 공이 바에 닿지 않고 바닥으로 떨어지면 화면전체가 지워지면서 게임종료라는 말이 나오도록 했습니다. 
